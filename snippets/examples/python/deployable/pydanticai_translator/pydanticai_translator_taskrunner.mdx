```python Python
import json
import asyncio
import logging
import os
from datetime import date, datetime
from meshagent.otel import otel_config
from meshagent.api.services import ServiceHost
from meshagent.agents import TaskRunner

from pydantic_ai import Agent
from pydantic import BaseModel, Field, ConfigDict
from pydantic_ai.models.anthropic import AnthropicModel
from pydantic_ai.providers.anthropic import AnthropicProvider

from meshagent.anthropic.proxy import get_client as get_anthropic_client

otel_config(service_name="translator")
log = logging.getLogger("translator")

service = ServiceHost()  # port defaults to an available port if not assigned

# Define Inputs, Outputs, and Pydantic AI Agent for Translation
class TranslationInput(BaseModel):
    text: str = Field(..., description="Text to translate")
    model_config = ConfigDict(extra="forbid")


class TranslationResult(BaseModel):
    french_translation: str
    spanish_translation: str
    model_config = ConfigDict(extra="forbid")


system_prompt = f"""
    # Role Background
    You are responsible for translating recent news announcements into other languages. You are exposed to a variety of topics beyond your knowledge cutoff date. The current date is: {date.today().strftime("%B %d, %Y")}

    # Task
    Provide two translations, one in French and one in Spanish.    
    """

def build_translation_agent(*, room):
    # Use the MeshAgent room proxy so API keys are provided by the room router.
    client = get_anthropic_client(room=room)
    provider = AnthropicProvider(anthropic_client=client)
    return Agent(
        model=AnthropicModel(model_name="claude-sonnet-4-5-20250929", provider=provider),
        deps_type=None,
        instructions=system_prompt,
        output_type=TranslationResult,
    )


# Utility function
async def save_to_storage(room, path: str, data: bytes):
    handle = await room.storage.open(path=path, overwrite=True)
    await room.storage.write(handle=handle, data=data)
    await room.storage.close(handle=handle)


# Use Pydantic AI agent in a MeshAgent Room
@service.path(path="/translator", identity="translator")
class TranslationTaskRunner(TaskRunner):
    def __init__(self):
        super().__init__(
            description="An agent that translates text to French and Spanish",
            input_schema=TranslationInput.model_json_schema(),
            output_schema=TranslationResult.model_json_schema(),
        )

    async def ask(self, *, context, arguments):
        room = context.room

        inputs = TranslationInput(**arguments)
        log.info(f"Translating Text: {inputs.text}")

        translation_agent = build_translation_agent(room=room)
        translations = await translation_agent.run(inputs.text)
        log.info(f"Translation Result: {translations.output}")

        # save results to room storage
        log.info("Translation completed, writing raw results to Room storage.")

        await save_to_storage(
            room=room,
            path=f"translations/{room.room_name}-translation-{datetime.now():%Y%m%dT%H%M%S}.json",
            data=json.dumps(
                {
                    "input_text": inputs.text,
                    "translations": translations.output.model_dump(),
                },
                indent=2,
                ensure_ascii=False,
            ).encode("utf-8"),
        )

        return translations.output.model_dump()

asyncio.run(service.run())

```

