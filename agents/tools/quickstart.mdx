---
title: "Tools Quickstart"
---

import ToolsAdder from "/snippets/examples/python/tools/tools-adder.mdx"
import ToolsCalling from "/snippets/examples/python/tools/tools-calling.mdx"
import ToolsDiscovery from "/snippets/examples/python/tools/tools-discovery.mdx"
import ToolsCallingCs from "/snippets/examples/dotnet/tools-calling.mdx"
import ToolsDiscoveryCs from "/snippets/examples/dotnet/tools-discovery.mdx"

MeshAgent tools can be **run by both agent and human participants**. Tools are centrally managed like agents meaning they can be deployed as a MeshAgent service and used by people or agents that have access to your Room. A ``Toolkit`` allows you to group related ``Tool``s together so that they can be used seamlessly by any person or agent in the Room. 

In this quickstart we'll walk through how to: 
- Write custom tools 
- Create a toolkit to group your related tools 
- Call a toolkit into a MeshAgent Room
- Invoke tools using the MeshAgent Studio UI, MeshAgent CLI, and code
- Discover available tools in a Room

## Creating a custom toolkit

### Step 1: Writing custom tools
Let's create a simple toolkit with two tools, one that can add two numbers, and one that can subtract two numbers. 

First we'll write the logic for the Add and Subtract tools. Next, we'll bundle them into a ``RemoteToolkit`` that the ``ServiceHost`` can register for room calls. 

When we call the tools into the room either with ``meshagent call tool`` or ``meshagent service run``, the ser

<CodeGroup>
    <ToolsAdder />
</CodeGroup>

### Step 2: Calling custom tools into a MeshAgent Room

From the terminal inside our activated virtual environment we'll use the MeshAgent CLI to call the toolkit into the room.

<CodeGroup>
```bash bash
meshagent setup # authenticate to MeshAgent
meshagent service run "main.py" --room=toolsroom
```
</CodeGroup>

This command will start the toolkit on an available port at the path ``/math``. If you are running multiple agents or tools, you can use the same ``ServiceHost`` and set different paths for each of the agents and toolkits. The ``service run`` command automatically detects the different paths and identities (this is the recommended way to test your agents and tools).

As an alternative to the ``service run`` command you can also run the service locally by running ``python main.py`` in one tab in your terminal, then from another tab you can call individual toolkits into the room using the ``meshagent call tool`` command. If you do this, be sure you've also stored a MESHAGENT_API_KEY in your environment. You can create and activate a key from the MeshAgent CLI by running ``mehsagent api-key create <your-key-name> activate`` then export the result. For example:

<CodeGroup>
```bash bash
meshagent setup # authenticate to MeshAgent
# meshagent api-key create my-api-key activate # create and activate key if you don't already have one
# export MESHAGENT_API_KEY="xxxxxxx"
meshagent call tool --room=toolsroom --participant-name=math-toolkit --url=http://localhost:8081/math
```
</CodeGroup>

In either case, the toolkit will be available in the room at the ``/math`` path with the name ``math-toolkit``. Once the toolkit joins the room, you can invoke it directly from the [MeshAgent Studio](https://studio.meshagent.com) UI, the MeshAgent CLI, or through code. 

### Step 3: Invoking a MeshAgent Tool
#### Invoking tools in MeshAgent Studio

1. Go to [studio.meshagent.com](https://studio.meshagent.com) and login
1. From the **Sessions** tab enter the ``toolsroom``
2. From the Menu in the upper left you can either invoke the tool directly through **Toolkits** or add it to a **TaskRunner** through **Run Task**
    - Using the **Toolkit** directly: Click **Toolkits...**, find the tool you want to run then click **Invoke**. This will collect the parameters needed from you (if any) and display a dialogue for you to enter any required values. Once finished click **Ok**. The tool will execute and display the result in the Studio UI.
    - Using A **TaskRunner**: Click **Run Task...**, then select the **Generic Task Runner** as the agent, next click the "Add Tools" button. Now you'll see our math-toolkit with both the "add" and "subtract" tools. On both of the tools you will see an info button, an invoke button, and an add button. The info button will display the JSON schema we created to define the tool, the invoke button will invoke the tool directly, and the add button will add the tool(s) to the TaskRunner. Select either the "Invoke" or "Add Tool" option for either the "add" or "subtract" tool and an agent will collect the required values and execute the tool. 

From the "Developer Console" on the bottom half of the screen you'll be able to see logs, traces, and metrics from tool calls as they happen in the room.

**Note**: Remember if you leave the Room and go back into it later you will need to call the tool back into the Room unless the tool is deployed as a MeshAgent service (meaning you will need to rerun the CLI command to call in the tool to the Room).

#### Invoking tools from the MeshAgent CLI
While the service is running, from a new tab in your terminal invoke the tool. The result will print to the terminal.

```bash bash 
meshagent agents invoke-tool --room=toolsroom --tool=add --require-toolkit=math-toolkit --arguments='{"a": 5, "b":7}'
```

#### Invoking tools from code

You can also call the tool directly from code. Assuming your service is still running, we can also invoke the tool using the MeshAgent ``RoomClient``. This code will create a ``ParticipantToken`` will the required permissions to invoke the tools, connect to the room with the token, then invoke both the add and subtract tools.  

<CodeGroup>
    <ToolsCalling />
    <ToolsCallingCs />
</CodeGroup>

Invoking the tools using the RoomClient will give you the following result: 

<CodeGroup>
```text Output
The result from adding the numbers is: JsonResponse: json={"result": 3} usage=None
The result from subtracting the numbers is: JsonResponse: json={"result": -1} usage=None
```
</CodeGroup>

## Discovering tools

At any time, you can use the MeshAgent CLI or connect to the room with a ``RoomClient`` to discover what tools are connected to a given room. This can be useful if you want to allow your users to grant additional capabilities to your agents at runtime or verify a tool is present in the room. 

#### Discovering tools from the CLI 

```bash 
meshagent agents list-toolkits --room=toolsroom
```

#### Discovering tools from code
Running this snippet will show any tool available as a MeshAgent service as well as tools that are currently connected to the Room. Again we construct the ``ParticipantToken`` with the appropriate permissions, connect to the room with the ``RoomClient``, then list the available toolkits.

<CodeGroup>
    <ToolsDiscovery />
    <ToolsDiscoveryCs />
</CodeGroup>

You should see that the math toolkit with both the add and subtract tools are available in the room.

<CodeGroup>
```text Output
Toolkit: math-toolkit: math-toolkit - a toolkit for adding and subtracting numbers
 Tool: add: adding tool - a tool that adds two numbers
 Tool: subtract: subtracting tool - a tool that subtracts two numbers
```
</CodeGroup>

## Next Steps

If you want your tools to be available in all the Rooms inside your Project you will need to deploy the tool as a MeshAgent service. You can also define a tool while you define an agent and just deploy your agent as a MeshAgent service. This will make the agent available in all of the MeshAgent Rooms in your Project, but your tool won't be directly invokable by anyone other than the agent you defined the tool with. 

- [Dynamic UI Tools](./dynamic_ui_tools): Learn what Dynamic UI tools are and how to build and use them in your applications
- Learn how to use custom tools inside a [Chat Agent](../standard/buildanddeploychatbot) or [Voice Agent](../standard/buildanddeployvoicebot)
- [Services & Containers](../../services_room_containers/overview): Understand different options for running, deploying, and managing agents and tools with MeshAgent
