---
title: Deploy and Run Project Services
---

Project services allow you to deploy shared functionality that's automatically available in all the rooms inside your project. These services will start and stop automatically with the room's lifecycle. 

After you build an image and author a ``Service`` manifest, deploy it so MeshAgent automatically starts the service in every room. See the [project service configuartion docs](./configuration) for more details on creating the ``Service`` manifest and Dockerfile for your service. 

## Prerequisites
To deploy a MeshAgent Service you will need: 
- **Source code** with ``ServiceHost`` setup
- **Dockerfile** that defines how to build the container image for your service
- **Service Manifest** ``meshagent.yaml`` file with ``kind: Service`` (not needed if deploying from CLI directly or MeshAgent Studio UI)
- **Container image** pushed to a registry (``linux/amd64`` recommended for compatibility)
- Any applicable [secrets and image pull secrets](/secrets/secrets_overview) for running the service 

## Deploy from MeshAgent Studio
1. Visit [studio.meshagent.com](https://studio.meshagent.com) and select your project.
2. Select the **Services** tab and choose **New Service**.
3. Provide the applicable information including the name, role, the image details, command to run the container, port information (including number, meshagent.callable type, path, and liveness check), and storage paths if applicable. 
4. Save the configuration. 

Once saved, the service will be available inside all of the rooms in your project, simply start a new room and the service start running. 

## Deploy with the CLI
For automated deployments or CI/CD workflows you can use the MeshAgent CLI

For example using the chatbot defined in the [Project Service Configuration](./configuration) example we can deploy it from the MeshAgent CLI using the service.yaml or by passing the arguments to the CLI directly.

### From a Service manifest file (recommended)
Run from the terminal inside the directory where the ``meshagent.yaml`` file lives.
```bash
meshagent setup # authenticate if not already signed in
meshagent service create --file meshagent.yaml 
```

### From a container image
```bash 
meshagent setup # authenticate if not already signed in
meshagent service create \
  --name my-chatbot \
  --image your-registry/chatbot:v1 \
  --role agent \
  --env "SYSTEM_PROMPT=You are a helpful assistant" \
  --port "num=* type=meshagent.callable liveness=/ path=/agent participant_name=chatbot"
```

Once you run the commands the service will be deployed. The next time you start a room, the service will automatically start when the room starts and stop when the room stops. To checkout the deployed chatbot service simply go to [studio.meshagent.com](https://studio.meshagent.com) and create a new session, you will see the chatbot appear in the participants list. 

## Update an existing service
If you make modifications to your service, you can easily update the existing service through the MeshAgent Studio UI or using the ``meshagent service update`` CLI command. 

## Next Steps
- For a complete sample of creating and deploying a project service see the [project service example](./project_service_example). This sample will walk through how to create and deploy a simple chatbot to a project.
- Learn how to [configure](../room_services/configuration) and [run](../room_services/deployment) a service in a specific MeshAgent Room using the Containers API. See a complete [room service container example here](../room_services/room_services_example).
- Check out [running a room service](../room_services/deployment) to learn how to run a service in a specific room with the containers API. 
- Learn how to create and use secrets with MeshAgent in [intro to secrets](/secrets/secrets_overview).
