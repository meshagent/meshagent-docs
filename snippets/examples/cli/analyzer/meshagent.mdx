```yaml Yaml
kind: ServiceTemplate
version: v1
metadata:
  name: analyzer
  description: "An analyzer agent with room storage access"
ports:
- num: "*"                    # automatically assign an available MESHAGENT_PORT for the agent to run on 
  type: http
  liveness: "/"               # ensure the service is alive before connecting to the room
  endpoints:
  - path: /agent              # service path to call and run the agent on
    meshagent:
      identity: analyzer        # name of the agent as it shows up in the Room
container:
  image: "us-central1-docker.pkg.dev/meshagent-public/images/cli:latest"
  command: "/usr/bin/meshagent chatbot service --agent-name=analyzer --model=gpt-5-codex --require-local-shell --require-toolkit=ui --rule='you may only write files inside the /data folder, everything else is read only. You should use the display_document tool to show files to users. If the user asks for a chart, install matplotlib and use it to make a chart image. strip the leading /data when showing files with display_document since the display_document tool expects a path relative to /data. If the user mentions a file that they uploaded, it should be inside the /data folder since the root of the room storage is mounted to /data.'"
  storage:
    room:
      - path: /data             # mount room storage path for the agent to write files to
        read_only: false        # allow write access 

```

